<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Templates for creating AmericasBarometer's visualizations • lapop</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Templates for creating AmericasBarometer's visualizations">
<meta name="description" content="LAPOP Lab (formerly the Latin American Public Opinion Project) at Vanderbilt University is a world leader in public survey research and is best known for for the biennial AmericasBarometer project. You may find more information about the AmericasBarometer here: &lt;https://www.vanderbilt.edu/lapop/about-americasbarometer.php&gt;. This package includes Tools for processing and visualizing survey data from the AmericasBarometer. Includes functions for labeling, weighting, and plotting following LAPOP's custom style guidelines and formatting for use in reports, presentations, and social media posts. If you find a bug, please consider donating or contributing to the LAPOP Lab — we spent all our money on coffee and data cleaning. The publicly available data can be downloaded here: &lt;https://www.vanderbilt.edu/lapop/data-access.php&gt;. IMPORTANT: Run lapop_fonts() before creating any graphs in order to use LAPOP-standard fonts.">
<meta property="og:description" content="LAPOP Lab (formerly the Latin American Public Opinion Project) at Vanderbilt University is a world leader in public survey research and is best known for for the biennial AmericasBarometer project. You may find more information about the AmericasBarometer here: &lt;https://www.vanderbilt.edu/lapop/about-americasbarometer.php&gt;. This package includes Tools for processing and visualizing survey data from the AmericasBarometer. Includes functions for labeling, weighting, and plotting following LAPOP's custom style guidelines and formatting for use in reports, presentations, and social media posts. If you find a bug, please consider donating or contributing to the LAPOP Lab — we spent all our money on coffee and data cleaning. The publicly available data can be downloaded here: &lt;https://www.vanderbilt.edu/lapop/data-access.php&gt;. IMPORTANT: Run lapop_fonts() before creating any graphs in order to use LAPOP-standard fonts.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">lapop</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.9</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/lapop-r-labels.html">AmericasBarometer Labels Guide</a></li>
    <li><a class="dropdown-item" href="articles/lapop-visualization.html">LAPOP Visualization Guide</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><table class="table">
<colgroup><col width="100%"></colgroup>
<thead><tr class="header">
<th align="left">lapop R package</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">These are the helper functions to wrangle labels and produce visualizations of AmericasBarometer data following LAPOP Lab’s editorial guidelines</td>
</tr>
<tr class="even">
<td align="left">To install the package in your machine you need to run in R console <code>devtools::install_github("https://github.com/lapop-central/lapop/", force=TRUE, build_vignettes = TRUE)</code>
</td>
</tr>
</tbody>
</table>
<p>Workflow of AmericasBarometer data visualization using LAPOP Lab guidelines</p>
<hr>
<ol style="list-style-type: decimal">
<li>Load lapop package in R <code><a href="https://lapop-central.github.io/lapop/">library(lapop)</a></code>
</li>
<li>Load <code><a href="reference/lapop_fonts.html">lapop_fonts()</a></code> function into console</li>
<li>Apply AmericasBarometer sampling design effect with <code><a href="reference/lpr_data.html">lpr_data()</a></code> function</li>
<li>Choose the appropriate type of <code>lpr</code> graph to represent data. For instance, histograms <code>lpr_hist</code>, cross country comparison <code>lpr_cc</code>, time series <code>lpr_ts</code>, or break down by covariates <code>lpr_mover</code> and store it in a R object</li>
<li>Use the correspoding <code>lapop</code> ploting function to produce the visualization (e.g., <code>lapop_hist</code>, <code>lapop_cc</code>, <code>lapop_ts</code>, and so on).</li>
<li>Export the figure with <code><a href="reference/lapop_save.html">lapop_save()</a></code> to your machine.</li>
</ol>
<table class="table">
<colgroup><col width="100%"></colgroup>
<thead><tr class="header">
<th align="left">Workflow of AmericasBarometer data variables and values labels</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Please refer to <code>/inst/LAPOP_Data_Guide_for_R_Users.html</code> for the full guide.</td>
</tr>
<tr class="even">
<td align="left">1) Data Structure: AmericasBarometer datasets are distributed in Stata .dta format with multilingual metadata (question wording and response options) embedded as attributes. These support cross-national and longitudinal comparability.</td>
</tr>
<tr class="odd">
<td align="left">2) Preferred Loading Method Use the readstata13::read.dta13() function to preserve full metadata structure. Other methods such as <code><a href="https://haven.tidyverse.org/reference/read_dta.html" class="external-link">haven::read_dta()</a></code> or <code><a href="http://gesistsa.github.io/rio/reference/import.html" class="external-link">rio::import()</a></code> often fail to import these critical attributes.</td>
</tr>
<tr class="even">
<td align="left">3) Variable Labels (Question Wording): Stored in the “expansion.fields” attribute. Use the custom <code><a href="reference/lpr_extract_notes.html">lpr_extract_notes()</a></code> function to convert this into a tidy data frame. Next, assign preferred language labels to each variable with <code><a href="reference/lpr_set_attr.html">lpr_set_attr()</a></code> using the appropriate noteid.</td>
</tr>
<tr class="odd">
<td align="left">5) Value Labels (Response Options): Stored in the “label.table” attribute. Use <code><a href="reference/lpr_set_ros.html">lpr_set_ros()</a></code> to assign these response labels as attributes in English, Spanish, or Portuguese.</td>
</tr>
</tbody>
</table>
<p>Workflow to contribute to the <code>lapop</code> R package</p>
<table class="table"><tbody>
<tr class="odd">
<td align="left">1) Clone the repository to your machine</td>
</tr>
<tr class="even">
<td align="left">2) Add the new function to the <code>\R</code> folder</td>
</tr>
<tr class="odd">
<td align="left">3) Add the .Rd file in the <code>\man</code> folder using <code>roxygen2</code>
</td>
</tr>
<tr class="even">
<td align="left">4) Collate the new function in the DESCRIPTION file</td>
</tr>
</tbody></table>
<!-- badges: start -->

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing lapop</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Robert Vidigal <br><small class="roles"> Maintainer, author </small> <a href="https://orcid.org/0000-0001-5713-119X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/lapop-central/lapop-viz/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/lapop-central/lapop-viz/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://github.com/lapop-central/lapop/stargazers" class="external-link"><img src="https://img.shields.io/github/stars/lapop-central/lapop.svg?style=social&amp;label=Star&amp;maxAge=3600" alt="GitHub stars"></a></li>
<li><a href="https://twitter.com/intent/tweet?url=https://github.com/lapop-central/lapop&amp;text=Check%20out%20the%20lapop%20R%20package%20for%20working%20with%20the%20AmericasBarometer%20data!%20%23rstats%20%23lapop%20%23AmericasBarometer%20%23opensource" class="external-link"><img src="https://cdn.prod.website-files.com/5e0f1144930a8bc8aace526c/65dd9eb5aaca434fac4f1ca4_shields.io.svg" alt="Tweet"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robert Vidigal.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
