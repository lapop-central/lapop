<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Creates visualizations using LAPOP Lab Styles along with helper functions to work with AmericasBarometer Data • lapop</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Creates visualizations using LAPOP Lab Styles along with helper functions to work with AmericasBarometer Data">
<meta property="og:description" content="LAPOP Lab (formerly the Latin American Public Opinion Project) at Vanderbilt University is a world leader in public survey research and is best known for for the biennial AmericasBarometer project. You may find more information about the AmericasBarometer here: &lt;https://www.vanderbilt.edu/lapop/about-americasbarometer.php&gt;. This package includes Tools for processing and visualizing survey data from the AmericasBarometer. Includes functions for labeling, weighting, and plotting following LAPOP's custom style guidelines and formatting for use in reports, presentations, and social media posts. If you find a bug, please consider donating or contributing to the LAPOP Lab — we spent all our money on coffee and data cleaning. The publicly available data can be downloaded here: &lt;https://www.vanderbilt.edu/lapop/data-access.php&gt;. IMPORTANT: Run lapop_fonts() before creating any graphs in order to use LAPOP-standard fonts.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">lapop</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/lapop-r-labels.html">AmericasBarometer Labels Guide</a>
    </li>
    <li>
      <a href="articles/lapop-visualization.html">LAPOP Visualization Guide</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">

<table class="table">
<colgroup><col width="100%"></colgroup>
<thead><tr class="header">
<th align="left">### lapop R package</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">### Authors: Luke Plutowski, Ph.D. &amp; Robert Vidigal, Ph.D. These are the helper functions to wrangle and produce visualizations of AmericasBarometer data following LAPOP Lab’s editorial guidelines</td>
</tr>
<tr class="even">
<td align="left">### To install the package in your machine you need to run in R console <code>devtools::install_github("https://github.com/lapop-central/lapop/", force=TRUE, build_vignettes = TRUE)</code>
</td>
</tr>
</tbody>
</table>
<div class="section level2">
<h2 id="id_-workflow-of-americasbarometer-data-visualization-using-lapop-lab-guidelines">### Workflow of AmericasBarometer data visualization using LAPOP Lab guidelines<a class="anchor" aria-label="anchor" href="#id_-workflow-of-americasbarometer-data-visualization-using-lapop-lab-guidelines"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Load lapop package in R <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library(lapop)</a></code>
</li>
<li>Load <code><a href="reference/lapop_fonts.html">lapop_fonts()</a></code> function into console</li>
<li>Apply AmericasBarometer sampling design effect with <code><a href="reference/lpr_data.html">lpr_data()</a></code> function</li>
<li>Choose the appropriate type of <code>lpr</code> graph to represent data. For instance, histograms <code>lpr_hist</code>, cross country comparison <code>lpr_cc</code>, time series <code>lpr_ts</code>, or break down by covariates <code>lpr_mover</code> and store it in a R object</li>
<li>Use the correspoding <code>lapop</code> ploting function to produce the visualization (e.g., <code>lapop_hist</code>, <code>lapop_cc</code>, <code>lapop_ts</code>, and so on).</li>
<li>Export the figure with <code><a href="reference/lapop_save.html">lapop_save()</a></code> to your machine.</li>
</ol>
<table class="table">
<colgroup><col width="100%"></colgroup>
<thead><tr class="header">
<th align="left">### Workflow of AmericasBarometer data variables and values labels</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Please refer to <code>/inst/LAPOP_Data_Guide_for_R_Users.html</code> for the full guide.</td>
</tr>
<tr class="even">
<td align="left">1) Data Structure: AmericasBarometer datasets are distributed in Stata .dta format with multilingual metadata (question wording and response options) embedded as attributes. These support cross-national and longitudinal comparability.</td>
</tr>
<tr class="odd">
<td align="left">2) Preferred Loading Method Use the readstata13::read.dta13() function to preserve full metadata structure. Other methods such as <code><a href="https://haven.tidyverse.org/reference/read_dta.html" class="external-link">haven::read_dta()</a></code> or <code><a href="http://gesistsa.github.io/rio/reference/import.html" class="external-link">rio::import()</a></code> often fail to import these critical attributes.</td>
</tr>
<tr class="even">
<td align="left">3) Variable Labels (Question Wording): Stored in the “expansion.fields” attribute. Use the custom <code><a href="reference/lpr_extract_notes.html">lpr_extract_notes()</a></code> function to convert this into a tidy data frame. Next, assign preferred language labels to each variable with <code><a href="reference/lpr_set_attr.html">lpr_set_attr()</a></code> using the appropriate noteid.</td>
</tr>
<tr class="odd">
<td align="left">5) Value Labels (Response Options): Stored in the “label.table” attribute. Use <code><a href="reference/lpr_set_ros.html">lpr_set_ros()</a></code> to assign these response labels as attributes in English, Spanish, or Portuguese.</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="id_-workflow-to-contribute-to-the-lapop-r-package">### Workflow to contribute to the <code>lapop</code> R package<a class="anchor" aria-label="anchor" href="#id_-workflow-to-contribute-to-the-lapop-r-package"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Clone the repository to your machine</li>
<li>Add the new function to the <code>\R</code> folder</li>
<li>Add the .Rd file in the <code>\man</code> folder using <code>roxygen2</code>
</li>
<li>
<h2 id="collate-the-new-function-in-the-description-file">Collate the new function in the DESCRIPTION file</h2>
<!-- badges: start -->
<a href="https://github.com/lapop-central/lapop-viz/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/lapop-central/lapop-viz/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a> <a href="https://github.com/lapop-central/lapop/stargazers" class="external-link"><img src="https://img.shields.io/github/stars/lapop-central/lapop.svg?style=social&amp;label=Star&amp;maxAge=3600" alt="GitHub stars"></a> <a href="https://twitter.com/intent/tweet?url=https://github.com/lapop-central/lapop&amp;text=Check%20out%20the%20lapop%20R%20package%20for%20working%20with%20the%20AmericasBarometer%20data!%20%23rstats%20%23lapop%20%23AmericasBarometer%20%23opensource" class="external-link"><img src="https://cdn.prod.website-files.com/5e0f1144930a8bc8aace526c/65dd9eb5aaca434fac4f1ca4_shields.io.svg" alt="Tweet"></a> <!-- badges: end -->
</li>
</ol>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing lapop</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Robert Vidigal <br><small class="roles"> Maintainer, author </small> <a href="https://orcid.org/0000-0001-5713-119X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Robert Vidigal.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
